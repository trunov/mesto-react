{"version":3,"sources":["components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","api/Api.js","components/App.js","index.js","images/header-logo.svg"],"names":["Header","className","src","logo","alt","Footer","CurrentUserContext","React","createContext","Card","title","likes","owner","id","onCardClick","onCardLike","onCardDelete","currentUser","useContext","card","_id","link","name","isOwn","isLiked","some","i","deleteButton","likeButton","onClick","type","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","style","backgroundImage","avatar","about","map","item","key","PopupWithForm","buttonTitle","children","isOpen","onClose","onSubmit","aria-label","action","noValidate","AddPlacePopup","useState","setName","setLink","e","preventDefault","required","minLength","maxLength","autoComplete","placeholder","value","onChange","target","ImagePopup","EditProfilePopup","onUpdateUser","description","setDescription","useEffect","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","api","options","this","_url","url","_authorization","headers","authorization","_contentType","fetch","method","then","res","ok","json","Promise","reject","status","body","JSON","stringify","cardId","App","isProfilePopupOpen","setIsProfilePopupOpen","isPlacePopupOpen","setIsPlacePopupOpen","isAvatarPopupOpen","setIsAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","promises","getUserInfo","getInitialCards","all","results","setupCards","catch","err","console","log","Provider","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","editProfile","result","addNewCard","editAvatar","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.1dd948ee.chunk.js","sourcesContent":["import React from \"react\";\nimport logo from \"../images/header-logo.svg\";\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img src={logo} alt=\"логотип\" className=\"header__logo\" />\n    </header>\n  );\n}\n\nexport default Header;","import React from \"react\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020. Трунов Кирилл</p>\n    </footer>\n  );\n}\n\nexport default Footer;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card({\n  src,\n  alt,\n  title,\n  likes,\n  owner,\n  id,\n  onCardClick,\n  onCardLike,\n  onCardDelete,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const card = {\n    _id: id,\n    link: src,\n    name: title,\n    owner: owner,\n    likes: likes,\n  };\n\n  const isOwn = card.owner._id === currentUser._id;\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n  const deleteButton = `cards__element-remove ${\n    isOwn ? \"\" : \"cards__element-remove_hidden\"\n  }`;\n  const likeButton = `cards__element-button ${\n    isLiked ? \"cards__element-button_active\" : \"\"\n  }`;\n\n  function handleClick() {\n    onCardClick({ link: src, name: title });\n  }\n\n  function handleLike() {\n    onCardLike(card);\n  }\n\n  function handleDelete() {\n    onCardDelete(card);\n  }\n\n  return (\n    <li className=\"cards__element\">\n      <img\n        className=\"cards__element-img\"\n        src={src}\n        alt={alt}\n        onClick={handleClick}\n      />\n      <button\n        className={deleteButton}\n        type=\"button\"\n        title=\"Удалить\"\n        onClick={handleDelete}\n      ></button>\n      <div className=\"cards__description\">\n        <h2 className=\"cards__element-title\">{title}</h2>\n        <div className=\"cards__element-wrap\">\n          <button\n            className={likeButton}\n            type=\"button\"\n            title=\"Нравится\"\n            onClick={handleLike}\n          ></button>\n          <p className=\"cards__element-like\">{likes.length}</p>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDelete }) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div\n          className=\"profile__avatar\"\n          onClick={onEditAvatar}\n          style={{ backgroundImage: `url(${currentUser.avatar})` }}\n        ></div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button\n            className=\"profile__edit-button\"\n            type=\"button\"\n            onClick={onEditProfile}\n          ></button>\n          <p className=\"profile__description\">{currentUser.about}</p>\n        </div>\n        <button\n          className=\"profile__add-button\"\n          type=\"button\"\n          onClick={onAddPlace}\n        ></button>\n      </section>\n\n      <section className=\"cards\">\n        <ul className=\"cards__container\">\n          {cards.map((item) => (\n            <Card\n              key={item._id}\n              id={item._id}\n              owner={item.owner}\n              src={item.link}\n              alt={item.alt}\n              title={item.name}\n              likes={item.likes}\n              onCardClick={onCardClick}\n              onCardLike={onCardLike}\n              onCardDelete={onCardDelete}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;","import React from \"react\";\n\nfunction PopupWithForm({\n  name,\n  title,\n  buttonTitle,\n  children,\n  isOpen,\n  onClose,\n  onSubmit,\n}) {\n  return (\n    <div className={`popup popup-${name} ${isOpen && \"popup_open\"}`}>\n      <div className=\"popup__container\">\n        <button\n          aria-label=\"Закрыть\"\n          type=\"button\"\n          className=\"popup__close-button\"\n          onClick={onClose}\n        ></button>\n        <h2 className=\"popup__title\">{title}</h2>\n\n        <form\n          action=\"#\"\n          name=\"popup-form\"\n          className={`popup__form popup-${name}__form`}\n          noValidate\n          onSubmit={onSubmit}\n        >\n          <fieldset className=\"popup__input-container\">\n            {children}\n            <button type=\"submit\" className=\"popup__submit-button\">\n              {buttonTitle}\n            </button>\n          </fieldset>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n  const [name, setName] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleLinkChange(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onAddPlace({\n      name,\n      link\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name={\"image\"}\n      title={\"Новое место\"}\n      buttonTitle={\"Сохранить\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        required\n        minLength=\"1\"\n        maxLength=\"30\"\n        autoComplete=\"off\"\n        name=\"title\"\n        type=\"text\"\n        placeholder=\"Название\"\n        className=\"popup__text popup__text_type_title\"\n        value={name || \"\"}\n        onChange={handleNameChange}\n      />\n      <span className=\"popup__error\" id=\"title-error\"></span>\n      <input\n        required\n        autoComplete=\"off\"\n        name=\"link\"\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        className=\"popup__text popup__text_type_link\"\n        value={link || \"\"}\n        onChange={handleLinkChange}\n      />\n      <span className=\"popup__error\" id=\"link-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\n\nfunction ImagePopup({ link, alt, title, isOpen, onClose }) {\n  return (\n    <div className={`popup popup-photo ${isOpen && \"popup_open\"}`}>\n      <div className=\"popup__photo-container\">\n        <button\n          aria-label=\"кнопка закрыть\"\n          type=\"button\"\n          className=\"popup__close-button\"\n          onClick={onClose}\n        ></button>\n        <img className=\"popup__img\" src={link} alt={alt} />\n        <h2 className=\"popup__title-photo\">{title}</h2>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const [name, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateUser({\n      name,\n      description,\n    });\n  }\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  return (\n    <PopupWithForm\n      name={\"edit\"}\n      title={\"Редактировать профиль\"}\n      buttonTitle={\"Сохранить\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        required\n        minLength=\"2\"\n        maxLength=\"40\"\n        autoComplete=\"off\"\n        name=\"name\"\n        type=\"text\"\n        placeholder=\"Жак-Ив Кусто\"\n        className=\"popup__text popup__text_type_name\"\n        value={name || \"\"}\n        onChange={handleNameChange}\n      />\n      <span className=\"popup__error\" id=\"name-error\"></span>\n      <input\n        required\n        minLength=\"2\"\n        maxLength=\"200\"\n        autoComplete=\"off\"\n        name=\"description\"\n        type=\"text\"\n        placeholder=\"Исследователь океана\"\n        className=\"popup__text popup__text_type_description\"\n        value={description || \"\"}\n        onChange={handleDescriptionChange}\n      />\n      <span className=\"popup__error\" id=\"description-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  const avatarRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      link: avatarRef.current.value,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name={\"avatar\"}\n      title={\"Обновить аватар\"}\n      buttonTitle={\"Сохранить\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        required\n        name=\"link\"\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        className=\"popup__text popup__text_type_link\"\n        id=\"link-input\"\n        ref={avatarRef}\n      />\n      <span className=\"popup__error\" id=\"link-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","class Api {\n  constructor(options) {\n    this._url = options.url;\n    this._authorization = options.headers.authorization;\n    this._contentType = options.headers[\"Content-type\"];\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      method: \"GET\",\n      headers: {\n        authorization: this._authorization,\n      },\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  addNewCard({ name, link }) {\n    return fetch(`${this._url}/cards`, {\n      method: \"POST\",\n      headers: {\n        authorization: this._authorization,\n        \"Content-Type\": this._contentType,\n      },\n      body: JSON.stringify({\n        name: name,\n        link: link,\n      }),\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._url}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: this._authorization,\n        \"Content-Type\": this._contentType,\n      },\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: isLiked ? \"PUT\" : \"DELETE\",\n      headers: {\n        authorization: this._authorization,\n        \"Content-Type\": this._contentType,\n      },\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      method: \"GET\",\n      headers: {\n        authorization: this._authorization,\n      },\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  editProfile({ name, description }) {\n    return fetch(`${this._url}/users/me`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._authorization,\n        \"Content-Type\": this._contentType,\n      },\n      body: JSON.stringify({\n        name: name,\n        about: description,\n      }),\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  editAvatar({ link }) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._authorization,\n        \"Content-Type\": this._contentType,\n      },\n      body: JSON.stringify({\n        avatar: `${link}`,\n      }),\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n}\n\nexport const api = new Api({\n  url: \"https://mesto.nomoreparties.co/v1/cohort-15\",\n  headers: {\n    authorization: \"ae4fa4cf-0e81-45c0-b4da-16ce9ece8f68\",\n    \"Content-type\": \"application/json\",\n  },\n});\n","import React from \"react\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Main from \"./Main\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport { api } from \"../api/Api\";\n\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction App() {\n  const [isProfilePopupOpen, setIsProfilePopupOpen] = React.useState(false);\n  const [isPlacePopupOpen, setIsPlacePopupOpen] = React.useState(false);\n  const [isAvatarPopupOpen, setIsAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({ isOpen: false });\n\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  function handleProfile() {\n    setIsProfilePopupOpen(true);\n  }\n\n  function handlePlace() {\n    setIsPlacePopupOpen(true);\n  }\n\n  function handleAvatar() {\n    setIsAvatarPopupOpen(true);\n  }\n\n  function handleCard(card) {\n    setSelectedCard({\n      isOpen: true,\n      link: card.link,\n      title: card.name,\n      alt: card.alt,\n    });\n  }\n\n  function setupCards(cards) {\n    setCards(\n      cards.map((item) => ({\n        _id: item._id,\n        link: item.link,\n        name: item.name,\n        owner: item.owner,\n        likes: item.likes,\n      }))\n    );\n  }\n\n  function handleUpdateUser({ name, description }) {\n    api\n      .editProfile({ name, description })\n      .then((result) => {\n        setCurrentUser(result);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(`Error ${err}`));\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api\n      .changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n\n        setCards(newCards);\n      })\n      .catch((err) => console.log(`Error ${err}`));\n  }\n\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== card._id);\n\n        setCards(newCards);\n      })\n      .catch((err) => console.log(`Error ${err}`));\n  }\n\n  function handleUpdateAvatar({ link }) {\n    api\n      .editAvatar({ link })\n      .then((result) => {\n        setCurrentUser(result);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(`Error ${err}`));\n  }\n\n  function handleAddPlaceSubmit({ name, link }) {\n    api\n      .addNewCard({ name, link })\n      .then((newCard) => {\n        setCards([newCard, ...cards]); \n        closeAllPopups();\n      })\n      .catch((err) => console.log(`Error ${err}`));\n  }\n\n  function closeAllPopups() {\n    setIsProfilePopupOpen(false);\n    setIsPlacePopupOpen(false);\n    setIsAvatarPopupOpen(false);\n    setSelectedCard({ isOpen: false });\n  }\n\n  React.useEffect(() => {\n    const promises = [api.getUserInfo(), api.getInitialCards()];\n\n    Promise.all(promises)\n      .then((results) => {\n        setCurrentUser(results[0]);\n        setupCards(results[1]);\n      })\n      .catch((err) => console.log(`Error ${err}`));\n  }, []);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header />\n        <Main\n          onEditProfile={handleProfile}\n          onAddPlace={handlePlace}\n          onEditAvatar={handleAvatar}\n          onCardClick={handleCard}\n          cards={cards}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete}\n        />\n        <Footer />\n\n        <EditProfilePopup\n          isOpen={isProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <AddPlacePopup\n          isOpen={isPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n\n        <EditAvatarPopup\n          isOpen={isAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <ImagePopup\n          link={selectedCard.link}\n          title={selectedCard.title}\n          isOpen={selectedCard.isOpen}\n          alt={selectedCard.alt}\n          onClose={closeAllPopups}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/header-logo.c6f11019.svg\";"],"sourceRoot":""}